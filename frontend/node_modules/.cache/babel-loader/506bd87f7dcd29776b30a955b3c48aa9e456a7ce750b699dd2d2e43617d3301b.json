{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/Merchants/taborder-frontend/render-deployment/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Box,Typography,Container,TextField,Button,Alert,CircularProgress,Card,CardContent,Avatar}from'@mui/material';import{Store as StoreIcon,Lock as LockIcon,Email as EmailIcon}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VendorLogin=_ref=>{let{onLoginSuccess,onShowRegistration}=_ref;const[formData,setFormData]=useState({email:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleInputChange=field=>event=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[field]:event.target.value}));setError(null);// Clear error when user starts typing\n};const handleSubmit=async event=>{event.preventDefault();if(!formData.email||!formData.password){setError('Please fill in all fields');return;}setLoading(true);setError(null);try{const response=await fetch('/api/vendor/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await response.json();if(response.ok&&data.success){// Store token in localStorage\nlocalStorage.setItem('vendorToken',data.data.access_token);localStorage.setItem('vendorData',JSON.stringify(data.data));// Call success callback\nonLoginSuccess(data.data);}else{setError(data.message||'Login failed');}}catch(err){setError('Network error. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{minHeight:'100vh',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Card,{sx:{width:'100%',maxWidth:400},children:/*#__PURE__*/_jsxs(CardContent,{sx:{p:4},children:[/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',mb:4},children:[/*#__PURE__*/_jsx(Avatar,{sx:{width:80,height:80,mx:'auto',mb:2,bgcolor:'primary.main'},children:/*#__PURE__*/_jsx(StoreIcon,{sx:{fontSize:40}})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Vendor Login\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Access your wholesale dashboard\"})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",type:\"email\",value:formData.email,onChange:handleInputChange('email'),margin:\"normal\",required:true,InputProps:{startAdornment:/*#__PURE__*/_jsx(EmailIcon,{sx:{mr:1,color:'text.secondary'}})}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",type:\"password\",value:formData.password,onChange:handleInputChange('password'),margin:\"normal\",required:true,InputProps:{startAdornment:/*#__PURE__*/_jsx(LockIcon,{sx:{mr:1,color:'text.secondary'}})}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",size:\"large\",disabled:loading,sx:{mt:3,mb:2},children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Login'})]}),onShowRegistration&&/*#__PURE__*/_jsx(Box,{sx:{mt:2,textAlign:'center'},children:/*#__PURE__*/_jsx(Button,{variant:\"text\",color:\"primary\",onClick:onShowRegistration,sx:{textTransform:'none'},children:\"Don't have an account? Register here\"})}),/*#__PURE__*/_jsxs(Box,{sx:{mt:3,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Demo Credentials:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Email: vendor@taborder.com\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Password: vendor123\"})]})]})})})});};export default VendorLogin;","map":{"version":3,"names":["React","useState","Box","Typography","Container","TextField","Button","Alert","CircularProgress","Card","CardContent","Avatar","Store","StoreIcon","Lock","LockIcon","Email","EmailIcon","jsx","_jsx","jsxs","_jsxs","VendorLogin","_ref","onLoginSuccess","onShowRegistration","formData","setFormData","email","password","loading","setLoading","error","setError","handleInputChange","field","event","_objectSpread","target","value","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","success","localStorage","setItem","access_token","message","err","maxWidth","children","sx","minHeight","display","alignItems","justifyContent","width","p","textAlign","mb","height","mx","bgcolor","fontSize","variant","component","gutterBottom","color","severity","onSubmit","fullWidth","label","type","onChange","margin","required","InputProps","startAdornment","mr","size","disabled","mt","onClick","textTransform"],"sources":["C:/Users/User/Downloads/Merchants/taborder-frontend/render-deployment/frontend/src/components/VendorLogin.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Container,\r\n  Paper,\r\n  TextField,\r\n  Button,\r\n  Alert,\r\n  CircularProgress,\r\n  Card,\r\n  CardContent,\r\n  Avatar,\r\n} from '@mui/material';\r\nimport {\r\n  Store as StoreIcon,\r\n  Lock as LockIcon,\r\n  Email as EmailIcon,\r\n} from '@mui/icons-material';\r\n\r\ninterface VendorLoginProps {\r\n  onLoginSuccess: (vendorData: any) => void;\r\n  onShowRegistration?: () => void;\r\n}\r\n\r\nconst VendorLogin: React.FC<VendorLoginProps> = ({ onLoginSuccess, onShowRegistration }) => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleInputChange = (field: string) => (\r\n    event: React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    setFormData({\r\n      ...formData,\r\n      [field]: event.target.value,\r\n    });\r\n    setError(null); // Clear error when user starts typing\r\n  };\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    \r\n    if (!formData.email || !formData.password) {\r\n      setError('Please fill in all fields');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await fetch('/api/vendor/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok && data.success) {\r\n        // Store token in localStorage\r\n        localStorage.setItem('vendorToken', data.data.access_token);\r\n        localStorage.setItem('vendorData', JSON.stringify(data.data));\r\n        \r\n        // Call success callback\r\n        onLoginSuccess(data.data);\r\n      } else {\r\n        setError(data.message || 'Login failed');\r\n      }\r\n    } catch (err) {\r\n      setError('Network error. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Box\r\n        sx={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Card sx={{ width: '100%', maxWidth: 400 }}>\r\n          <CardContent sx={{ p: 4 }}>\r\n            <Box sx={{ textAlign: 'center', mb: 4 }}>\r\n              <Avatar sx={{ width: 80, height: 80, mx: 'auto', mb: 2, bgcolor: 'primary.main' }}>\r\n                <StoreIcon sx={{ fontSize: 40 }} />\r\n              </Avatar>\r\n              <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n                Vendor Login\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Access your wholesale dashboard\r\n              </Typography>\r\n            </Box>\r\n\r\n            {error && (\r\n              <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n                {error}\r\n              </Alert>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Email\"\r\n                type=\"email\"\r\n                value={formData.email}\r\n                onChange={handleInputChange('email')}\r\n                margin=\"normal\"\r\n                required\r\n                InputProps={{\r\n                  startAdornment: <EmailIcon sx={{ mr: 1, color: 'text.secondary' }} />,\r\n                }}\r\n              />\r\n              \r\n              <TextField\r\n                fullWidth\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                value={formData.password}\r\n                onChange={handleInputChange('password')}\r\n                margin=\"normal\"\r\n                required\r\n                InputProps={{\r\n                  startAdornment: <LockIcon sx={{ mr: 1, color: 'text.secondary' }} />,\r\n                }}\r\n              />\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                disabled={loading}\r\n                sx={{ mt: 3, mb: 2 }}\r\n              >\r\n                {loading ? <CircularProgress size={24} /> : 'Login'}\r\n              </Button>\r\n            </form>\r\n\r\n            {onShowRegistration && (\r\n              <Box sx={{ mt: 2, textAlign: 'center' }}>\r\n                <Button\r\n                  variant=\"text\"\r\n                  color=\"primary\"\r\n                  onClick={onShowRegistration}\r\n                  sx={{ textTransform: 'none' }}\r\n                >\r\n                  Don't have an account? Register here\r\n                </Button>\r\n              </Box>\r\n            )}\r\n\r\n            <Box sx={{ mt: 3, textAlign: 'center' }}>\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Demo Credentials:\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Email: vendor@taborder.com\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Password: vendor123\r\n              </Typography>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default VendorLogin; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}