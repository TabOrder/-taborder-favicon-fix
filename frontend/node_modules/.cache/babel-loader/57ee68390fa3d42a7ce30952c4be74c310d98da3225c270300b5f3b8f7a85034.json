{"ast":null,"code":"import React,{useState,useEffect}from'react';import{ThemeProvider,createTheme}from'@mui/material/styles';import{CssBaseline,Box}from'@mui/material';import VendorLogin from'./components/VendorLogin.tsx';import VendorRegistration from'./components/VendorRegistration.tsx';import EnhancedVendorDashboard from'./components/EnhancedVendorDashboard.tsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const theme=createTheme({palette:{primary:{main:'#1976d2'},secondary:{main:'#dc004e'}}});// API Configuration\nconst API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:10000';const App=()=>{const[vendorData,setVendorData]=useState(null);const[showRegistration,setShowRegistration]=useState(false);useEffect(()=>{// Check for existing vendor session\nconst token=localStorage.getItem('vendorToken');const storedVendorData=localStorage.getItem('vendorData');if(token&&storedVendorData){try{const parsedData=JSON.parse(storedVendorData);setVendorData(parsedData);}catch(err){// Clear invalid data\nlocalStorage.removeItem('vendorToken');localStorage.removeItem('vendorData');}}},[]);const handleLoginSuccess=data=>{setVendorData(data);setShowRegistration(false);};const handleRegistrationSuccess=data=>{setVendorData(data);setShowRegistration(false);};const handleLogout=()=>{localStorage.removeItem('vendorToken');localStorage.removeItem('vendorData');setVendorData(null);};const handleBackToLogin=()=>{setShowRegistration(false);};const handleShowRegistration=()=>{setShowRegistration(true);};return/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Box,{sx:{minHeight:'100vh'},children:vendorData?/*#__PURE__*/_jsx(EnhancedVendorDashboard,{vendorData:vendorData,onLogout:handleLogout,apiBaseUrl:API_BASE_URL}):showRegistration?/*#__PURE__*/_jsx(VendorRegistration,{onRegistrationSuccess:handleRegistrationSuccess,onBackToLogin:handleBackToLogin}):/*#__PURE__*/_jsx(VendorLogin,{onLoginSuccess:handleLoginSuccess})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","ThemeProvider","createTheme","CssBaseline","Box","VendorLogin","VendorRegistration","EnhancedVendorDashboard","jsx","_jsx","jsxs","_jsxs","theme","palette","primary","main","secondary","API_BASE_URL","process","env","REACT_APP_API_URL","App","vendorData","setVendorData","showRegistration","setShowRegistration","token","localStorage","getItem","storedVendorData","parsedData","JSON","parse","err","removeItem","handleLoginSuccess","data","handleRegistrationSuccess","handleLogout","handleBackToLogin","handleShowRegistration","children","sx","minHeight","onLogout","apiBaseUrl","onRegistrationSuccess","onBackToLogin","onLoginSuccess"],"sources":["C:/Users/User/Downloads/Merchants/taborder-frontend/render-deployment/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\r\nimport { CssBaseline, Box } from '@mui/material';\r\nimport VendorLogin from './components/VendorLogin.tsx';\r\nimport VendorRegistration from './components/VendorRegistration.tsx';\r\nimport VendorDashboard from './components/VendorDashboard.tsx';\r\nimport EnhancedVendorDashboard from './components/EnhancedVendorDashboard.tsx';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#1976d2',\r\n    },\r\n    secondary: {\r\n      main: '#dc004e',\r\n    },\r\n  },\r\n});\r\n\r\n// API Configuration\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:10000';\r\n\r\ninterface VendorData {\r\n  access_token: string;\r\n  vendor_id: string;\r\n  email: string;\r\n  name: string;\r\n  role: string;\r\n}\r\n\r\nconst App: React.FC = () => {\r\n  const [vendorData, setVendorData] = useState<VendorData | null>(null);\r\n  const [showRegistration, setShowRegistration] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Check for existing vendor session\r\n    const token = localStorage.getItem('vendorToken');\r\n    const storedVendorData = localStorage.getItem('vendorData');\r\n    \r\n    if (token && storedVendorData) {\r\n      try {\r\n        const parsedData = JSON.parse(storedVendorData);\r\n        setVendorData(parsedData);\r\n      } catch (err) {\r\n        // Clear invalid data\r\n        localStorage.removeItem('vendorToken');\r\n        localStorage.removeItem('vendorData');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleLoginSuccess = (data: VendorData) => {\r\n    setVendorData(data);\r\n    setShowRegistration(false);\r\n  };\r\n\r\n  const handleRegistrationSuccess = (data: VendorData) => {\r\n    setVendorData(data);\r\n    setShowRegistration(false);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('vendorToken');\r\n    localStorage.removeItem('vendorData');\r\n    setVendorData(null);\r\n  };\r\n\r\n  const handleBackToLogin = () => {\r\n    setShowRegistration(false);\r\n  };\r\n\r\n  const handleShowRegistration = () => {\r\n    setShowRegistration(true);\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Box sx={{ minHeight: '100vh' }}>\r\n        {vendorData ? (\r\n          <EnhancedVendorDashboard \r\n            vendorData={vendorData}\r\n            onLogout={handleLogout}\r\n            apiBaseUrl={API_BASE_URL}\r\n          />\r\n        ) : showRegistration ? (\r\n          <VendorRegistration\r\n            onRegistrationSuccess={handleRegistrationSuccess}\r\n            onBackToLogin={handleBackToLogin}\r\n          />\r\n        ) : (\r\n          <VendorLogin\r\n            onLoginSuccess={handleLoginSuccess}\r\n          />\r\n        )}\r\n      </Box>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}